<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<title>Comment Team</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="	sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
		<script type="text/javascript" src="qrcode.js"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" crossorigin="anonymous">
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="	sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

		<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
		<link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16">
		<link rel="manifest" href="/manifest.json">
		<meta name="theme-color" content="#ffffff">

	</head>
	<body>


	<nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse fixed-top">
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <a class="navbar-brand" href="index.html">MonsterScout</a>

      
    </nav>

    	<div class="container">
    		<div class="form-group"  style="margin-top: 72px;">
    			<label for="selectEvent">Event:</label>
				<select class="form-control" id="selectEvent" required>
					<option value="-1">Please select</option>
					<option value="3/16/2017;Waterford">3/16/2017: Waterford</option>
					<option value="3/17/2017;Waterford">3/17/2017: Waterford</option>
					<option value="3/18/2017;Waterford">3/18/2017: Waterford</option>
					<option value="3/23/2017;Lansing">3/23/2017: Lansing</option>
					<option value="3/24/2017;Lansing">3/24/2017: Lansing</option>
					<option value="3/25/2017;Lansing">3/25/2017: Lansing</option>
				</select>
				<br>
    			<label>Team:</label>
    			<select class="form-control" id="selectTeam">
    				<option value="-1">Please select</option>
					<option value="1 - The Juggernauts">1 - The Juggernauts</option>
					<option value="27 - Team RUSH">27 - Team RUSH</option>
					<option value="33 - Killer Bees">33 - Killer Bees</option>
					<option value="67 - The HOT Team">67 - The HOT Team</option>
					<option value="68 - Truck Town Thunder">68 - Truck Town Thunder</option>
					<option value="70 - More Martians">70 - More Martians</option>
					<option value="216 - More RoboDawgs">216 - More RoboDawgs</option>
					<option value="244 - RoboDawgs 3D">244 - RoboDawgs 3D</option>
					<option value="288 - The RoboDawgs">288 - The RoboDawgs</option>
					<option value="302 - The Dragons">302 - The Dragons</option>
					<option value="308 - The Monsters">308 - The Monsters</option>
					<option value="468 - Aftershock">468 - Aftershock</option>
					<option value="494 - Martians">494 - Martians</option>
					<option value="548 - Robostangs">548 - Robostangs</option>
					<option value="1076 - Pi Hi Samurai">1076 - Pi Hi Samurai</option>
					<option value="1504 - Desperate Penguins">1504 - Desperate Penguins</option>
					<option value="1701 - RoboCubs">1701 - RoboCubs</option>
					<option value="1718 - The Fighting Pi">1718 - The Fighting Pi</option>
					<option value="2137 - TORC">2137 - TORC</option>
					<option value="2474 - Excel">2474 - Excel</option>
					<option value="2611 - Jacktown Vectors">2611 - Jacktown Vectors</option>
					<option value="2620 - Titans">2620 - Titans</option>
					<option value="2673 - Tenacious Technicians">2673 - Tenacious Technicians</option>
					<option value="2771 - Code Red Robotics the Stray Dogs">2771 - Code Red Robotics the Stray Dogs</option>
					<option value="3234 - Red Arrows">3234 - Red Arrows</option>
					<option value="3302 - TurboTrojans">3302 - TurboTrojans</option>
					<option value="3322 - Eagle Imperium">3322 - Eagle Imperium</option>
					<option value="3357 - COMETS">3357 - COMETS</option>
					<option value="3536 - Electro Eagles">3536 - Electro Eagles</option>
					<option value="3539 - Byting Bulldogs">3539 - Byting Bulldogs</option>
					<option value="3568 - RoboEagles">3568 - RoboEagles</option>
					<option value="3655 - Tractor Technicians">3655 - Tractor Technicians</option>
					<option value="3668 - TroBots">3668 - TroBots</option>
					<option value="4130 - The Blue Devils">4130 - The Blue Devils</option>
					<option value="4216 - Blue Ops Robotics">4216 - Blue Ops Robotics</option>
					<option value="4390 - ATA  Coregears">4390 - ATA  Coregears</option>
					<option value="4779 - RoboSapiens">4779 - RoboSapiens</option>
					<option value="4838 - Panthers">4838 - Panthers</option>
					<option value="4851 - JungleBots">4851 - JungleBots</option>
					<option value="4854 - Trobots">4854 - Trobots</option>
					<option value="4961 - Shock and Awe-sum">4961 - Shock and Awe-sum</option>
					<option value="5065 - Knights">5065 - Knights</option>
					<option value="5084 - Corunna Robotics Team FridgeBot">5084 - Corunna Robotics Team FridgeBot</option>
					<option value="5090 - Torque-Nados">5090 - Torque-Nados</option>
					<option value="5114 - Titanium Tigers">5114 - Titanium Tigers</option>
					<option value="5152 - Alotobots">5152 - Alotobots</option>
					<option value="5155 - Bearcats">5155 - Bearcats</option>
					<option value="5205 - CHS FullMetal-Jackets">5205 - CHS FullMetal-Jackets</option>
					<option value="5225 - The Shambotz">5225 - The Shambotz</option>
					<option value="5234 - MarauderBots">5234 - MarauderBots</option>
					<option value="5282 - Railroaders">5282 - Railroaders</option>
					<option value="5467 - RoboTractors">5467 - RoboTractors</option>
					<option value="5498 - Wired Devils">5498 - Wired Devils</option>
					<option value="5524 - MacroProcessors ">5524 - MacroProcessors </option>
					<option value="5532 - The G.O.A.T.S">5532 - The G.O.A.T.S</option>
					<option value="5561 - Raider Robotics">5561 - Raider Robotics</option>
					<option value="5562 - Laker Logistics">5562 - Laker Logistics</option>
					<option value="5641 - Eagles">5641 - Eagles</option>
					<option value="5641 - Eagles">5641 - Eagles</option>
					<option value="5662 - A Flock of Nerds">5662 - A Flock of Nerds</option>
					<option value="5674 - The GEARHOUNDS">5674 - The GEARHOUNDS</option>
					<option value="5676 - The H.E.R.O.E.S">5676 - The H.E.R.O.E.S</option>
					<option value="5704 - Blended Learning Academies">5704 - Blended Learning Academies</option>
					<option value="5843 - Flurb">5843 - Flurb</option>
					<option value="5860 - Full Metal Muskrats">5860 - Full Metal Muskrats</option>
					<option value="6078 - RoboRams">6078 - RoboRams</option>
					<option value="6085 - Devil Bots">6085 - Devil Bots</option>
					<option value="6090 - Wayland Wildcats">6090 - Wayland Wildcats</option>
					<option value="6091 - Eagle 1">6091 - Eagle 1</option>
					<option value="6117 - Wingspan">6117 - Wingspan</option>
					<option value="6150 - BlueBotics">6150 - BlueBotics</option>
					<option value="6344 - Yale Jiggawattz">6344 - Yale Jiggawattz</option>
					<option value="6548 - Perry High School Ramblers">6548 - Perry High School Ramblers</option>
					<option value="6591 - Stockbridge Panthers">6591 - Stockbridge Panthers</option>
					<option value="6592 - Sexton Redbots">6592 - Sexton Redbots</option>
					<option value="6594 - VIKINGS NATION">6594 - VIKINGS NATION</option>
					<option value="6595 - Fortis Quake">6595 - Fortis Quake</option>
					<option value="6610 - Robot Roll Call">6610 - Robot Roll Call</option>
					<option value="6635 - JPEC Falcons">6635 - JPEC Falcons</option>
    			</select>
    			<br>
    			<label>Scouter:</label>
				<input type="text" name="author" id="author" class="form-control">
				<br>
				<label>Message:</label>
				<input id="text" type="text" value="" required  class="form-control" />
				<br>
				<button id="submit" class="btn btn-primary">Submit</button>
				<button id="print" class="btn btn-warning">Print</button>
				<button id="clear" class="btn btn-default">Clear</button>
    		</div>

    		<br>
			<div id="qrcode" style="width:200px; height:200px; margin-top:15px; margin-bottom: 48px;"></div>
			<br>
			<br>
			<p style="margin-top: 8px">Coded by <a href="http://www.codeteddy.de">Alexander Kaschta</a></p>

    	</div>



		<script type="text/javascript">
		var done = false;
		var qrcode = new QRCode(document.getElementById("qrcode"), {
			width : 300,
			height : 300,
			correctLevel : QRCode.CorrectLevel.M
		});

		$("#submit").on("click", function(){
			console.log("Clicked!");
			makeCode();
		});

		$("#print").on("click", function(){
			if(done){
				window.print();
			}
			else{
				alert("Please submit first");
				return;
			}
			
		});
		
		function makeCode () {		
			var text = document.getElementById("text");
			var team = document.getElementById("selectTeam");
			var author = document.getElementById("author");
			var event = document.getElementById("selectEvent");
			
			if(event.options[event.selectedIndex].value == -1){
				alert("Please select an event");
				return;
			}
			else if(team.options[team.selectedIndex].value == -1){
				alert("Please select a team");
				return;
			}
			else if(!author.value.replace(";", "")){
				alert("Please enter your name");
				return;
			}
			else if(!text.value.replace(";", "")){
				alert("Please enter a message");
				return;
			}
			else{
				var text = "FRC2017;COMMENT;" + event.options[event.selectedIndex].value + ";" + author.value.replace(";", "") + ";" + team.options[team.selectedIndex].value + ";" + text.value.replace(";", "") + ";" ;
				console.log(text);
				qrcode.makeCode(text);
				done = true;

				$.post("api/create_entry.php",
    			{
        			type: "COMMENT",
        			qrcode: text
    			},
    			function(data, status){
        			alert("Data: " + data + "\nStatus: " + status);
    			});


			}
			
		}
		
		
		$("#clear").on("click", function(){
			done = false;
			console.log("Content cleared!");
			document.getElementById("text").value = "";
			document.getElementById("selectTeam").selectedIndex = 0;
			document.getElementById("selectEvent").selectedIndex = 0;
			document.getElementById("author").value = "";
			qrcode.clear();
			console.clear();
		});
		
		
		</script>
</body>